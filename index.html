<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>コソ勉 - 学習記録アプリ v2.0</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app-container">
        <header>
            <h1>コソ勉</h1>
            <p class="subtitle">25分単位で学習を記録 - 色鉛筆で塗る感覚で楽しく勉強</p>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <div class="record-section">
                    <h3>学習記録</h3>
                    <button class="record-button" id="recordButton">25分記録する</button>
                    <div class="timer-option">
                        <input type="checkbox" id="useTimer" />
                        <label for="useTimer">タイマーを使用する</label>
                    </div>
                    <div class="timer-display" id="timerDisplay" style="display: none;">25:00</div>
                </div>

                <div class="pen-selector">
                    <h3>科目設定</h3>
                    <div class="pen-list" id="penList">
                        <div class="pen-item selected" data-color="#FF6B6B" data-pen-id="0">
                            <div class="pen-color" style="background-color: #FF6B6B;"></div>
                            <input type="text" class="pen-name-input" placeholder="科目名" value="数学">
                        </div>
                        <div class="pen-item" data-color="#4ECDC4" data-pen-id="1">
                            <div class="pen-color" style="background-color: #4ECDC4;"></div>
                            <input type="text" class="pen-name-input" placeholder="科目名" value="英語">
                        </div>
                        <div class="pen-item" data-color="#45B7D1" data-pen-id="2">
                            <div class="pen-color" style="background-color: #45B7D1;"></div>
                            <input type="text" class="pen-name-input" placeholder="科目名" value="国語">
                        </div>
                        <div class="pen-item" data-color="#FFA07A" data-pen-id="3">
                            <div class="pen-color" style="background-color: #FFA07A;"></div>
                            <input type="text" class="pen-name-input" placeholder="科目名" value="理科">
                        </div>
                        <div class="pen-item" data-color="#98D8C8" data-pen-id="4">
                            <div class="pen-color" style="background-color: #98D8C8;"></div>
                            <input type="text" class="pen-name-input" placeholder="科目名" value="社会">
                        </div>
                        <div class="pen-item" data-color="#FECA57" data-pen-id="5">
                            <div class="pen-color" style="background-color: #FECA57;"></div>
                            <input type="text" class="pen-name-input" placeholder="科目名" value="">
                        </div>
                    </div>
                    <button class="add-pen-button" id="addPenButton">科目を追加</button>
                </div>
                
                <div class="tool-section">
                    <h3>ツール</h3>
                    <div class="tool-buttons">
                        <button class="tool-button eraser-button" id="eraserButton">
                            <span class="tool-icon">🧽</span>
                            <span>消しゴム</span>
                        </button>
                        <button class="tool-button clear-button" id="clearAllButton">
                            <span class="tool-icon">🗑️</span>
                            <span>全て消す</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="grid-area">
                <div class="grid-header">
                    <h3>学習記録シート</h3>
                    <div class="grid-info">
                        <span>今日: <strong id="todayCount">0</strong>マス</span>
                        <span>合計: <strong id="totalCount">0</strong>マス</span>
                    </div>
                </div>
                <div class="grid-container" id="gridContainer"></div>
                <p class="grid-instruction">クリックで次のマスに色を塗ります</p>
            </div>
        </div>

        <div class="stats-section">
            <h3>学習統計</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalHours">0</div>
                    <div class="stat-label">総学習時間（時間）</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="todayHours">0</div>
                    <div class="stat-label">今日の学習時間（時間）</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="streakDays">0</div>
                    <div class="stat-label">連続学習日数</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="weeklyAvg">0</div>
                    <div class="stat-label">週平均（時間）</div>
                </div>
            </div>
            <div class="chart-container">
                <h4>週間学習グラフ</h4>
                <canvas id="weeklyChart"></canvas>
            </div>
            <div class="subject-stats">
                <h4>科目別学習時間</h4>
                <div id="subjectBars"></div>
            </div>
        </div>
    </div>

    <button class="sound-toggle" id="soundToggle">🔊</button>
    <button class="theme-toggle" id="themeToggle">🌙</button>

    <script src="js/app.js"></script>
    <script src="js/timer.js"></script>
    <script src="js/grid.js"></script>
    <script src="js/sound.js"></script>
    <script src="js/stats.js"></script>
</body>
</html>